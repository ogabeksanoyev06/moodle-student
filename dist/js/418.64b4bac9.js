"use strict";(self["webpackChunkmoodle_student"]=self["webpackChunkmoodle_student"]||[]).push([[418],{8501:function(e,s,a){a.d(s,{Z:function(){return c}});var t=function(){var e=this;e._self._c;return e._m(0)},i=[function(){var e=this,s=e._self._c;return s("div",{staticClass:"preloader"},[s("div",{staticClass:"preloader-content"},[s("div",{staticClass:"loader loader--fade"},[s("span",{staticClass:"loader-item"},[e._v("1")]),e._v(" "),s("span",{staticClass:"loader-item"},[e._v("2")]),s("span",{staticClass:"loader-item"},[e._v("3")]),e._v(" "),s("span",{staticClass:"loader-item"},[e._v("4")])])])])}],r={name:"PreLoader"},l=r,n=a(1001),o=(0,n.Z)(l,t,i,!1,null,null,null),c=o.exports},2723:function(e,s,a){a.r(s),a.d(s,{default:function(){return h}});var t=function(){var e=this,s=e._self._c;return s("div",{staticClass:"profile"},[e.loading?s("app-loading"):e._e(),s("div",{staticClass:"box box__info"},[e._m(0),s("div",{staticClass:"box__body"},[s("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function({handleSubmit:a}){return[s("form",{on:{submit:function(s){return s.preventDefault(),a(e.profileUpdate)}}},[s("div",{staticClass:"box__inner"},[s("div",{staticClass:"box__inner-left"},[s("base-input",{attrs:{type:"text",vid:"Ismi º",rules:"required",label:"Ismi º",placeholder:"Ismi º",disabled:""},model:{value:e.user.first_name,callback:function(s){e.$set(e.user,"first_name",s)},expression:"user.first_name"}}),s("base-input",{attrs:{type:"text",vid:"Familiya º",rules:"required",label:"Familiya º",placeholder:"Familiya º",disabled:""},model:{value:e.user.second_name,callback:function(s){e.$set(e.user,"second_name",s)},expression:"user.second_name"}}),s("base-input",{attrs:{type:"text",vid:"Login",rules:"required",label:"Login",placeholder:"Login",disabled:""},model:{value:e.user.student_id_number,callback:function(s){e.$set(e.user,"student_id_number",s)},expression:"user.student_id_number"}}),s("base-input",{attrs:{type:"text",vid:"Pasport raqami",rules:"required",label:"Pasport raqami",placeholder:"Pasport raqami",disabled:""},model:{value:e.user.passport_number,callback:function(s){e.$set(e.user,"passport_number",s)},expression:"user.passport_number"}}),s("base-input",{attrs:{type:"text",vid:"Email",rules:"required|email",label:"Email",placeholder:"Email"},model:{value:e.user.email,callback:function(s){e.$set(e.user,"email",s)},expression:"user.email"}}),s("base-input",{directives:[{name:"mask",rawName:"v-mask",value:"+998 ## ###-##-##",expression:"'+998 ## ###-##-##'"}],attrs:{type:"text",vid:"Talaba telefoni",rules:"required",label:"Talaba telefoni",placeholder:"Talaba telefoni"},model:{value:e.user.phone,callback:function(s){e.$set(e.user,"phone",s)},expression:"user.phone"}}),s("br"),s("div",{staticClass:"checkbo checkbo-ready"},[s("div",{staticClass:"form-group mb-10",staticStyle:{display:"inline-block"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.isChecked,expression:"isChecked"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(e.isChecked)?e._i(e.isChecked,null)>-1:e.isChecked},on:{change:function(s){var a=e.isChecked,t=s.target,i=!!t.checked;if(Array.isArray(a)){var r=null,l=e._i(a,r);t.checked?l<0&&(e.isChecked=a.concat([r])):l>-1&&(e.isChecked=a.slice(0,l).concat(a.slice(l+1)))}else e.isChecked=i}}}),s("label",{staticClass:"checkbox-label",attrs:{for:"checkbox"}},[s("span",{staticClass:"checkbox-custom",class:{checked:e.isChecked}},[e.isChecked?s("i",{staticClass:"fa fa-check"}):e._e()]),e._v(" Parolni o'zgartirish ")])]),s("ValidationObserver",[s("base-input",{attrs:{type:"text",vid:"Parol",rules:e.isChecked?"required":"",label:"Yangi parol",placeholder:"Yangi parol",disabled:!e.isChecked},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),s("base-input",{attrs:{type:"text",vid:"Parol tasdig‘i",rules:e.isChecked?"required|confirmed:Parol":"",label:"Parol tasdig‘i",placeholder:"Parol tasdig‘i",disabled:!e.isChecked},model:{value:e.confirmPassword,callback:function(s){e.confirmPassword=s},expression:"confirmPassword"}})],1)],1)],1),s("div",{staticClass:"box__inner-right"},[s("div",{staticClass:"account__photo"},[s("img",{attrs:{src:e.user.image,alt:""}})])])]),s("div",{staticClass:"box__footer"},[s("app-button",{attrs:{theme:"main",type:"submit",height:40,"font-size":e.isMobileSmall?12:e.isMobile?14:16,sides:10,disabled:e.btnLoading}},[e._v(" O‘zgartirish ")])],1)])]}}])})],1)])],1)},i=[function(){var e=this,s=e._self._c;return s("div",{staticClass:"box__header"},[s("h3",{staticClass:"title"},[e._v("Mening profilim")])])}],r=a(5708),l=a(5530),n=a(3440),o=a(9307),c=a(8501),d={name:"StudentProfile",components:{ValidationObserver:r._j,AppButton:l.Z,BaseInput:n.Z,AppLoading:c.Z},data(){return{user:{first_name:"Og'abek",second_name:"Sanoyev",student_id_number:"23567897653989",passport_number:"AB7405110",email:"ogabeksanoyev06@gmail.com",phone:"+998 88 890-88-15",image:""},password:"",confirmPassword:"",isChecked:!1,loading:!0,btnLoading:!1}},methods:{getUser(){this.loading=!0,this.$http.get(o.nT+"account/me").then((e=>{e.success&&(this.user=e.data)})).catch((e=>{console.log(e),this.loading=!1})).finally((()=>{this.loading=!1}))},profileUpdate(){let e={phone:this.user.phone,email:this.user.email,change_contacts:!0};this.isChecked&&(e.password=this.password,e.confirmation=this.confirmPassword,e.change_password=!0),this.btnLoading=!0,this.$http.post(o.nT+"account/update",e).then((e=>{e.success&&this.successNotification(e.data.message)})).catch((()=>{this.btnLoading=!1})).finally((()=>{this.btnLoading=!1}))}},mounted(){this.getUser()}},u=d,p=a(1001),m=(0,p.Z)(u,t,i,!1,null,"2857b3ca",null),h=m.exports}}]);
//# sourceMappingURL=418.64b4bac9.js.map