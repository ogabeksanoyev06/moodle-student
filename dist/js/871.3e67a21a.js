"use strict";(self["webpackChunkmoodle_student"]=self["webpackChunkmoodle_student"]||[]).push([[871],{5279:function(t,e,s){s.d(e,{Z:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"no-content"},[e("div",{staticClass:"icon"},[e("svg",{staticStyle:{fill:"rgba(0, 0, 0, 1)",transform:""},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M13.707 2.293A.996.996 0 0 0 13 2H6c-1.103 0-2 .897-2 2v16c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2V9a.996.996 0 0 0-.293-.707l-6-6zM6 4h6.586L18 9.414l.002 9.174-2.568-2.568c.35-.595.566-1.281.566-2.02 0-2.206-1.794-4-4-4s-4 1.794-4 4 1.794 4 4 4c.739 0 1.425-.216 2.02-.566L16.586 20H6V4zm6 12c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z"}})])]),e("div",[t._v(" Xech narsa topilmadi ")])])},i=[],n=s(1001),o={},r=(0,n.Z)(o,a,i,!1,null,"a0f02088",null),c=r.exports},871:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"exam-list"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[t._m(0),e("transition",{directives:[{name:"show",rawName:"v-show",value:t.examList.length>0,expression:"examList.length>0"}],attrs:{name:"fade",duration:2e3}},[e("tbody",{staticClass:"table-bordered"},[t._l(t.examList,(function(s,a){return e("tr",{key:a},[e("td",[t._v(" "+t._s(a+1)+". "+t._s(s.exam.name)+". "+t._s(s.exam.curriculum.name)+" ")]),e("td",[t._v(" "+t._s(s.exam.max_score)+" ")]),e("td",[t._v(" "+t._s(t.$moment(s.exam.begin_time).format("YYYY-MM-DD HH:ss"))+" "),e("br"),t._v(" "+t._s(t.$moment(s.exam.end_time).format("YYYY-MM-DD HH:ss"))+" ")]),e("td",[e("div",{directives:[{name:"show",rawName:"v-show",value:!s.is_finish,expression:"!item.is_finish"}]},[e("button",{directives:[{name:"show",rawName:"v-show",value:!s.is_start,expression:"!item.is_start"}],staticClass:"btn btn-success w-100",attrs:{disabled:!s.is_active||!s.exam.exam_status},on:{click:function(e){return t.goToTest(s.exam.id,s.id)}}},[t._v(" Boshlash ")]),e("button",{directives:[{name:"show",rawName:"v-show",value:s.is_start,expression:"item.is_start"}],staticClass:"btn btn-success w-100",attrs:{disabled:!s.is_active||!s.exam.exam_status},on:{click:function(e){return t.goToTestCheck(s.exam.id)}}},[t._v(" Davom etish ")])]),e("button",{directives:[{name:"show",rawName:"v-show",value:s.is_finish,expression:"item.is_finish"}],staticClass:"btn btn-success w-100",on:{click:function(e){return t.goResult(s.exam.id,s.id)}}},[t._v(" Natija ")])])])})),""!==t.errorMessage?e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[t._v(" "+t._s(t.errorMessage)+" ")])]):t._e()],2)])],1),e("no-content",{directives:[{name:"show",rawName:"v-show",value:t.examList.length<=0,expression:"examList.length<=0"}],staticStyle:{"margin-top":"5px","margin-bottom":"5px"}})],1)])])])])},i=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Nomi")]),e("th",{attrs:{scope:"col"}},[t._v("Maks ball")]),e("th",{attrs:{scope:"col"}},[t._v("Test davri")]),e("th")])])}],n=(s(7658),s(3822)),o=s(5279),r={name:"exam-list",components:{NoContent:o.Z},data(){return{examList:[],errorMessage:"",student_id:null,ip_address:""}},methods:{...(0,n.nv)(["getUser"]),getExamList(){this.loading=!0,this.$http.get(`exam-list/${this.student_id}`).then((t=>{this.examList=t,console.log(t)})).catch((t=>{this.errorMessage=t.response.data.message})).finally((()=>{this.loading=!1}))},goToTest(t){this.$router.push({name:"test",params:{exam_id:t}})},goToTestCheck(t){this.$http.post("check-continue/",{exam:t,student:this.student_id,ip_address:this.ip_address}).then((()=>{this.$router.push({name:"test",params:{exam_id:t}})})).catch((t=>{this.notificationMessage(t.response.data.message,"error")}))},async fetchLocalIPAddress(){return new Promise((t=>{window.RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;const e=new RTCPeerConnection;e.createDataChannel(""),e.createOffer().then((t=>{e.setLocalDescription(t)})),e.onicecandidate=s=>{if(s&&s.candidate&&s.candidate.candidate){const e=/\d+\.\d+\.\d+\.\d+/,a=e.exec(s.candidate.candidate);if(a){const e=a[0];t(e),this.ip_address=e}}e.onicecandidate=null,e.close()}}))},goResult(t){this.$router.push({name:"test-result-one",params:{student_id:this.user.id,exam_id:t}})}},computed:{...(0,n.Se)(["user"])},async mounted(){this.fetchLocalIPAddress(),await this.getUser(),this.student_id=this.user.id,localStorage.setItem("student_id",this.student_id),await this.getExamList();const t=document.cookie,e=t.split(";");let s;for(const a of e){const[t,e]=a.split("="),i=t.trim();if("sessionId"===i){s=e;break}}s?console.log("Session ID:",s):console.error("Session ID not found in cookies")},created(){}},c=r,d=s(1001),l=(0,d.Z)(c,a,i,!1,null,"4ad4b2a2",null),m=l.exports}}]);
//# sourceMappingURL=871.3e67a21a.js.map