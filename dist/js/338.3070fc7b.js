"use strict";(self["webpackChunkmoodle_student"]=self["webpackChunkmoodle_student"]||[]).push([[338],{5530:function(t,e,i){i.d(e,{Z:function(){return r}});var s=function(){var t=this,e=t._self._c;return e(t.tag,t._g(t._b({tag:"component",staticClass:"a-btn",class:t.className,style:t.style,attrs:{type:t.type,disabled:t.disabled}},"component",t.$attrs,!1),t.listeners),[t._t("default")],2)},o=[],l=(i(7658),{name:"AppButton",props:{tag:{type:String,default:"button"},sides:{type:[Number,String],default:10},height:{type:[Number,String],default:50},width:{type:[Number,String]},radius:{type:[Number,String],default:15},fontSize:{type:[Number,String],default:16},weight:{type:[Number,String],default:500},theme:{type:String,default:"default"},disabled:{type:Boolean},textColor:{type:String},outline:{type:Boolean},noFocus:{type:Boolean},type:{type:String,default:"button"},shadow:{type:String},flex:{type:Boolean}},computed:{className(){const t="a-btn--",e=[t+"sd-"+this.sides,t+"rd-"+this.radius,t+"fn-"+this.fontSize,t+"wg-"+this.weight,t+"hg-"+this.height,t+"th-"+this.theme];return this.flex&&e.push(t+"fl"),this.width&&e.push(t+"wd"),this.outline&&e.push(t+"line"),this.textColor&&e.push(t+"cl-"+this.textColor),this.noFocus&&e.push(t+"nf"),this.shadow&&e.push(t+"shadow-"+this.shadow),e},style(){const t={};return this.width&&(t["--wd"]=this.width+"px"),t},listeners(){return this.disabled?{}:{click:t=>this.$emit("click",t)}}}}),a=l,n=i(1001),d=(0,n.Z)(a,s,o,!1,null,null,null),r=d.exports},6338:function(t,e,i){i.r(e),i.d(e,{default:function(){return h}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"lesson-view",staticStyle:{"padding-bottom":"30px"}},[e("div",[e("div",{staticClass:"player-container"},[e("vue-core-video-player",{attrs:{cover:"./svg/prewiew.svg",autoplay:!1,src:`https://api.fastlms.uz${this.videoRef}`}})],1),e("div",{staticClass:"list-chips"},t._l(t.video,(function(i,s){return e("div",{key:s},[e("button",{class:t.videoContentId===i?.id?"chips active":"chips",on:{click:function(e){return t.perform(i)}}},[e("div",[t._v(t._s(s+1)+" -")]),e("div",[t._v(" "+t._s(i?.name)+" ")])])])})),0),e("div",{staticClass:"lesson-additionals-card mt-20",staticStyle:{"padding-top":"22px","padding-bottom":"0px"}},[e("div",{staticClass:"d-flex justify-space-between align-center"},[e("AppText",{attrs:{size:t.isMobileSmall?16:t.isMobile?18:24,weight:600}},[t._v(" Mavzuga oid fayllar ")]),e("AppButton",{attrs:{theme:"secondary","font-size":t.isMobileSmall?12:t.isMobile?14:16,sides:t.isMobileSmall?10:t.isMobile?20:30,height:t.isMobileSmall?"40":"50"},on:{click:t.downloadAll}},[t._v(" Barchasini yuklash ")])],1),e("hr",{staticStyle:{"margin-top":"22px","margin-bottom":"0px"}}),t._l(t.file,(function(i,s){return e("div",{key:s,staticClass:"color-black d-block lesson-file-link"},[e("div",{staticClass:"d-flex justify-space-between align-center"},[e("div",{staticClass:"d-flex justify-start align-center"},[e("svg",{staticClass:"lesson-file-icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("g",{attrs:{"clip-path":"url(#clip0_529_2705)"}},[e("path",{attrs:{d:"M19.275 6.975L14.025 1.725C13.875 1.575 13.725 1.5 13.5 1.5H6C5.175 1.5 4.5 2.175 4.5 3V21C4.5 21.825 5.175 22.5 6 22.5H18C18.825 22.5 19.5 21.825 19.5 21V7.5C19.5 7.275 19.425 7.125 19.275 6.975ZM13.5 3.3L17.7 7.5H13.5V3.3ZM18 21H6V3H12V7.5C12 8.325 12.675 9 13.5 9H18V21Z",fill:"#000"}}),e("path",{attrs:{d:"M16.5 16.5H7.5V18H16.5V16.5Z",fill:"#000"}}),e("path",{attrs:{d:"M16.5 12H7.5V13.5H16.5V12Z",fill:"#000"}})]),e("defs",[e("clipPath",{attrs:{id:"clip0_529_2705"}},[e("rect",{attrs:{width:"24",height:"24",fill:"white"}})])])]),e("p",{staticClass:"mb-0"},[t._v(t._s(s+1)+" : "+t._s(i?.name))])]),e("div",{staticClass:"d-flex align-center gap-10",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.download(i.file_file)}}},[e("svg",{staticClass:"lesson-download-icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("g",{attrs:{"clip-path":"url(#clip0_529_2734)"}},[e("path",{attrs:{d:"M19.5 18V21H4.5V18H3V21C3 21.3978 3.15804 21.7794 3.43934 22.0607C3.72064 22.342 4.10218 22.5 4.5 22.5H19.5C19.8978 22.5 20.2794 22.342 20.5607 22.0607C20.842 21.7794 21 21.3978 21 21V18H19.5Z",fill:"#000"}}),e("path",{attrs:{d:"M19.5 10.5L18.4425 9.4425L12.75 15.1275V1.5H11.25V15.1275L5.5575 9.4425L4.5 10.5L12 18L19.5 10.5Z",fill:"#000"}})]),e("defs",[e("clipPath",{attrs:{id:"clip0_529_2734"}},[e("rect",{attrs:{width:"24",height:"24",fill:"white"}})])])])])])])}))],2)])])},o=[],l=(i(6229),i(7330),i(2062),i(5530)),a=i(6265),n=i.n(a),d={name:"subject-id",props:["id"],components:{AppButton:l.Z},data(){return{file:[],video:[],videoContentId:null,drawer:!1,subjectId:null,videoRef:JSON.parse(localStorage.getItem("videoContent"))?.vide_file,title:JSON.parse(localStorage.getItem("videoContent"))?.name}},methods:{downloadAll(){this.file?.map((t=>{this.download(t.file_file)}))},download(t){n().get(`https://api.fastlms.uz${t}`,{responseType:"blob"}).then((e=>{this.handleDownloadResponse(e,t)})).catch((t=>{console.error(t)}))},handleDownloadResponse(t,e){const i=new Blob([t.data],{type:t.headers["content-type"]}),s=document.createElement("a");s.href=window.URL.createObjectURL(i);const o=e.split("/").pop();s.download=o,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(s.href)},playerStateChanged(){},updateVideoSource(){const t=this.$refs.videoPlayer;t&&(t.src=`https://api.fastlms.uz${this.videoRef}`,t.load())},perform(t){this.videoRef=t?.vide_file,this.title=t?.name,localStorage.setItem("videoContent",JSON.stringify(t)),console.log(t),this.videoContentId=JSON.parse(localStorage.getItem("videoContent"))?.id},getSubjects(){console.log("test"),this.$http.get(`student/content/topic/one/?topic_id=${this.id}`).then((t=>{console.log("res",t),this.file=t.results.topic_files,this.video=t.results.topic_videos,console.log(localStorage.getItem("videoContent")),null!==localStorage.getItem("videoContent")&&void 0!==localStorage.getItem("videoContent")||(this.videoRef=t.results.topic_videos[0]?.vide_file,this.title=t.results.topic_videos[0]?.name,localStorage.setItem("videoContent",JSON.stringify(t.results.topic_videos[0])))})).catch((t=>{console.log(t)}))}},computed:{},watch:{videoRef(t,e){t!==e&&this.updateVideoSource()}},mounted(){this.videoContentId=JSON.parse(localStorage.getItem("videoContent"))?.id,this.getSubjects(),this.subjectId=this.$route.params.subject_id},created(){}},r=d,c=i(1001),p=(0,c.Z)(r,s,o,!1,null,null,null),h=p.exports}}]);
//# sourceMappingURL=338.3070fc7b.js.map