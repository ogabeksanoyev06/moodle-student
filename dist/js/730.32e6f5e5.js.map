{"version":3,"file":"js/730.32e6f5e5.js","mappings":"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","sources":["webpack://moodle-student/./src/components/shared-components/AppModal.vue","webpack://moodle-student/src/components/shared-components/AppModal.vue","webpack://moodle-student/./src/components/shared-components/AppModal.vue?ee5a","webpack://moodle-student/./src/components/shared-components/AppModal.vue?1b59","webpack://moodle-student/./src/views/site/student/test/index.vue","webpack://moodle-student/src/views/site/student/test/index.vue","webpack://moodle-student/./src/views/site/student/test/index.vue?5da1","webpack://moodle-student/./src/views/site/student/test/index.vue?ddc2"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal\"},[_c('div',{staticClass:\"modal__content\",class:_vm.className,style:(_vm.style)},[_c('div',{staticClass:\"modal__wrap\"},[_c('div',{staticClass:\"modal__header\"},[_c('span',[_vm._t(\"modalHeader\")],2),_c('button',{staticClass:\"modal__close\",on:{\"click\":_vm.close}},[_c('img',{attrs:{\"src\":\"/icons/close.svg\",\"alt\":\"\"}})])]),_c('div',{staticClass:\"modal__body\"},[_vm._t(\"modalBody\")],2)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"modal\">\r\n    <div class=\"modal__content\" :style=\"style\" :class=\"className\">\r\n      <div class=\"modal__wrap\">\r\n        <div class=\"modal__header\">\r\n          <span> <slot name=\"modalHeader\"></slot> </span>\r\n          <button class=\"modal__close\" @click=\"close\">\r\n            <img src=\"/icons/close.svg\" alt=\"\" />\r\n          </button>\r\n        </div>\r\n        <div class=\"modal__body\">\r\n          <slot name=\"modalBody\"></slot>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport \"../../assets/styles/components/app-modal.scss\";\r\n\r\nexport default {\r\n  name: \"AppModal\",\r\n  data() {\r\n    return {\r\n      hidden: true,\r\n    };\r\n  },\r\n  props: {\r\n    width: {\r\n      type: [Number, String],\r\n    },\r\n  },\r\n  computed: {\r\n    className() {\r\n      const name = \"modal__content--\";\r\n      const className = [];\r\n\r\n      if (this.width) {\r\n        className.push(name + \"wd\");\r\n      }\r\n      return className;\r\n    },\r\n    style() {\r\n      const styles = {};\r\n      if (this.width) {\r\n        styles[\"--wd\"] = this.width + \"px\";\r\n      }\r\n      return styles;\r\n    },\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.hidden = true;\r\n      this.$emit(\"close\");\r\n    },\r\n  },\r\n  async mounted() {\r\n    setTimeout(() => {\r\n      this.hidden = false;\r\n    }, 10);\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AppModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AppModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppModal.vue?vue&type=template&id=33e1ce04&scoped=true&\"\nimport script from \"./AppModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AppModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33e1ce04\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',[_c('div',{staticClass:\"test\"},[_c('div',{staticClass:\"test_left\"},[_c('div',{ref:\"testBody\",staticClass:\"test_body\"},[_c('div',{staticClass:\"test_subject\"},_vm._l((_vm.questions),function(question,q){return _c('div',{key:q,ref:'question_' + q,refInFor:true,staticClass:\"test_question\"},[_c('div',{staticClass:\"test_question-title pt-1\"},[_c('AppText',{attrs:{\"size\":16,\"weight\":600}},[_c('span',{domProps:{\"innerHTML\":_vm._s(question.name)}})])],1),_c('ul',{staticClass:\"test_answers pb-1\"},_vm._l((question.answers),function(item,a){return _c('li',{key:a,class:item.is_selected?'test_answers-title active':'test_answers-title',on:{\"click\":function($event){return _vm.selectAnswer(question.id, item.id)}}},[_c('AppText',{staticClass:\"mr-1\",attrs:{\"size\":_vm.isMobile ? 14 : 16,\"line-height\":_vm.isMobile ? 20 : 24,\"weight\":\"600\"}},[_vm._v(\" \"+_vm._s(_vm.answerLabels[a] + \")\")+\" \")]),_c('AppText',{attrs:{\"size\":_vm.isMobile ? 14 : 14,\"line-height\":_vm.isMobile ? 20 : 24,\"weight\":\"500\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(item.name)}})])],1)}),0)])}),0)])]),_c('div',{staticClass:\"test_right\"},[_c('div',{staticClass:\"test_pagination-top\"},[_c('span',{staticStyle:{\"font-size\":\"1.7rem\",\"max-width\":\"200px\",\"border\":\"1px solid #00b74a\",\"color\":\"#00b74a\",\"padding\":\"0 10px\"}},[_vm._v(\" \"+_vm._s(_vm.timerFormat(_vm.testTimer))+\" \")]),_c('button',{staticClass:\"btn btn-danger\",staticStyle:{\"width\":\"fit-content !important\"},on:{\"click\":_vm.checkLogOut}},[_vm._v(\" Yopish \")])]),_c('ul',{staticClass:\"test_pagination\"},_vm._l((_vm.questions),function(question,index){return _c('li',{key:index,class:question.is_selected?'test_pagination-item active':'test_pagination-item',on:{\"click\":function($event){return _vm.scrollToQuestion(index)}}},[_vm._v(\" \"+_vm._s(index + 1)+\" \")])}),0),_c('div',{staticClass:\"test_pagination-bottom\"},[_c('button',{on:{\"click\":_vm.showModalClick}},[_vm._v(\"Yakunlash\")])])])]),_c('AppModal',{class:{ visible: _vm.showModal },attrs:{\"width\":300},on:{\"close\":_vm.closeModal},scopedSlots:_vm._u([{key:\"modalHeader\",fn:function(){return [_vm._v(\" Testni yakunlamoqchimisiz ?\")]},proxy:true},{key:\"modalBody\",fn:function(){return [_c('div',{staticClass:\"buttons\",on:{\"click\":_vm.closeModal}},[_c('button',{staticClass:\"btn btn-danger\"},[_vm._v(\" Yo'q \")]),_c('button',{staticClass:\"btn btn-success\",on:{\"click\":_vm.finishTest}},[_vm._v(\" Ha \")])])]},proxy:true}])}),_c('div',{staticClass:\"overlay\",class:{ visible: _vm.showModal },on:{\"click\":_vm.closeModal}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section>\r\n    <div class=\"test\">\r\n      <div class=\"test_left\">\r\n        <div class=\"test_body\" ref=\"testBody\">\r\n          <div class=\"test_subject\">\r\n            <div\r\n              class=\"test_question\"\r\n              v-for=\"(question, q) in questions\"\r\n              :key=\"q\"\r\n              :ref=\"'question_' + q\"\r\n            >\r\n              <div class=\"test_question-title pt-1\">\r\n                <AppText :size=\"16\" :weight=\"600\">\r\n                  <span v-html=\"question.name\"></span>\r\n                </AppText>\r\n              </div>\r\n              <ul class=\"test_answers pb-1\">\r\n                <li\r\n\r\n                  v-for=\"(item, a) in question.answers\"\r\n                  :key=\"a\"\r\n                  @click=\"selectAnswer(question.id, item.id)\"\r\n                  :class=\"item.is_selected?'test_answers-title active':'test_answers-title'\"\r\n                >\r\n                  <AppText\r\n                    :size=\"isMobile ? 14 : 16\"\r\n                    :line-height=\"isMobile ? 20 : 24\"\r\n                    weight=\"600\"\r\n                    class=\"mr-1\"\r\n                  >\r\n                    {{ answerLabels[a] + \")\" }}\r\n                  </AppText>\r\n                  <AppText\r\n                    :size=\"isMobile ? 14 : 14\"\r\n                    :line-height=\"isMobile ? 20 : 24\"\r\n                    weight=\"500\"\r\n                  >\r\n                    <span v-html=\"item.name\"></span>\r\n                  </AppText>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"test_right\">\r\n        <div class=\"test_pagination-top\">\r\n          <span\r\n            style=\"\r\n              font-size: 1.7rem;\r\n              max-width: 200px;\r\n              border: 1px solid #00b74a;\r\n              color: #00b74a;\r\n              padding: 0 10px;\r\n            \"\r\n          >\r\n            {{ timerFormat(testTimer) }}\r\n          </span>\r\n          <button @click=\"checkLogOut\" style=\"width: fit-content !important;\" class=\"btn btn-danger\">\r\n            Yopish\r\n          </button>\r\n        </div>\r\n        <ul class=\"test_pagination\">\r\n          <li\r\n\r\n            v-for=\"(question, index) in questions\"\r\n            :key=\"index\"\r\n            @click=\"scrollToQuestion(index)\"\r\n            :class=\"question.is_selected?'test_pagination-item active':'test_pagination-item'\"\r\n          >\r\n            {{ index + 1 }}\r\n          </li>\r\n        </ul>\r\n        <div class=\"test_pagination-bottom\">\r\n          <button @click=\"showModalClick\">Yakunlash</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <AppModal @close=\"closeModal\" :class=\"{ visible: showModal }\" :width=\"300\">\r\n      <template #modalHeader> Testni yakunlamoqchimisiz ?</template>\r\n      <template #modalBody>\r\n        <div @click=\"closeModal\" class=\"buttons\">\r\n          <button class=\"btn btn-danger\">\r\n            Yo'q\r\n          </button>\r\n          <button @click=\"finishTest\" class=\"btn btn-success\">\r\n            Ha\r\n          </button>\r\n        </div>\r\n      </template>\r\n    </AppModal>\r\n    <div\r\n      class=\"overlay\"\r\n      :class=\"{ visible: showModal }\"\r\n      @click=\"closeModal\"\r\n    ></div>\r\n  </section>\r\n</template>\r\n<script>\r\nimport AppModal from \"@/components/shared-components/AppModal.vue\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nexport default {\r\n  components: { AppModal },\r\n  name: \"AppTest\",\r\n  data() {\r\n    return {\r\n      questions: [],\r\n      select:[],\r\n      exam_id: \"\",\r\n      exam_detail: null,\r\n      ip_address: \"\",\r\n      student_id: \"\",\r\n      answerLabels: [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\"],\r\n      testTimer: 0,\r\n      activeP: 0,\r\n      showModal: false,\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions([\"getUser\"]),\r\n    scrollToQuestion(index) {\r\n      const testElement = this.$refs[\"question_\" + index][0];\r\n      if (testElement) {\r\n        testElement.scrollIntoView({ behavior: \"smooth\" });\r\n      }\r\n      this.activeP = index;\r\n    },\r\n\r\n    async getExamTest() {\r\n      this.loading = true;\r\n      await this.$http\r\n        .post(`test/begin/`,{\r\n          exam:this.exam_id,\r\n          ip_address:this.ip_address,\r\n          student:this.student_id,\r\n        })\r\n        .then((response) => {\r\n          response.forEach((element) => {\r\n            let model = {\r\n              id: element.id,\r\n              name: element.name,\r\n              answers: element.answers.map(answer => ({ ...answer, is_selected: false })),\r\n              is_selected: false,\r\n            };\r\n            this.questions.push(model);\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          this.notificationMessage(err.response.data.message, \"error\");\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    async resultCreate() {\r\n      const result = {\r\n        exam: this.exam_id,\r\n        student: this.student_id,\r\n        group: this.user.group.id,\r\n        ip_address: this.ip_address,\r\n        attempts: this.exam_detail.attempts,\r\n        total_count: this.exam_detail.total_count,\r\n        max_score: this.exam_detail.max_score,\r\n        end_time: this.exam_detail.end_time,\r\n        is_start: true,\r\n        exam_time: this.exam_detail.exam_time,\r\n        correct_answer: 0,\r\n      };\r\n      await this.$http\r\n        .post(`result/create`, result)\r\n        .then((res) => {\r\n          console.log('res',res)\r\n          this.testTimer = Math.abs(res.exam_time_second);\r\n        })\r\n        .catch((err) => {\r\n          if (err.response && err.response.data) {\r\n            const errors = err.response.data;\r\n            for (const key in errors) {\r\n              if (Object.hasOwnProperty.call(errors, key)) {\r\n                const errorMessages = errors[key];\r\n                this.notificationMessage(\r\n                  `${key}: ${errorMessages.join(\", \")}`,\r\n                  \"error\"\r\n                );\r\n              }\r\n            }\r\n          }\r\n        })\r\n        .finally(() => {});\r\n    },\r\n    getDefault(){\r\n      this.$http.get(`student-select-answers-get/${this.exam_id}/for/${this.student_id}/`).then((res)=>{\r\n       this.select = res.data\r\n        this.collectSelect()\r\n      }).catch((err)=>{\r\n        console.log(err)\r\n      })\r\n    },\r\n    async getExamDetail() {\r\n      await this.$http\r\n        .get(`exam-detail/${this.exam_id}`)\r\n        .then((res) => {\r\n          this.exam_detail = res;\r\n        })\r\n        .catch(() => {})\r\n        .finally(() => {});\r\n    },\r\n    setTimer() {\r\n      let _this = this;\r\n      let testTimerInterval = setInterval(function () {\r\n        if (_this.testTimer / 60 <= 0) {\r\n          _this.finishTest()\r\n          clearInterval(testTimerInterval);\r\n          return;\r\n        }\r\n        _this.testTimer--;\r\n      }, 1000);\r\n    },\r\n    timerFormat(time) {\r\n      let sec_num = parseInt(time, 10);\r\n      let hours = Math.floor(sec_num / 3600);\r\n      let minutes = Math.floor((sec_num - hours * 3600) / 60);\r\n      let seconds = sec_num - hours * 3600 - minutes * 60;\r\n\r\n      if (hours < 10) {\r\n        hours = \"0\" + hours;\r\n      }\r\n      if (minutes < 10) {\r\n        minutes = \"0\" + minutes;\r\n      }\r\n      if (seconds < 10) {\r\n        seconds = \"0\" + seconds;\r\n      }\r\n      return hours + \":\" + minutes + \":\" + seconds;\r\n    },\r\n    // async fetchLocalIPAddress() {\r\n    //   return new Promise((resolve) => {\r\n    //     window.RTCPeerConnection =\r\n    //         window.RTCPeerConnection ||\r\n    //         window.mozRTCPeerConnection ||\r\n    //         window.webkitRTCPeerConnection;\r\n    //\r\n    //     const pc = new RTCPeerConnection();\r\n    //\r\n    //     pc.createDataChannel(\"\");\r\n    //\r\n    //     pc.createOffer().then((offer) => {\r\n    //       pc.setLocalDescription(offer);\r\n    //     });\r\n    //\r\n    //     pc.onicecandidate = (e) => {\r\n    //       if (e && e.candidate && e.candidate.candidate) {\r\n    //         const ipRegex = /\\d+\\.\\d+\\.\\d+\\.\\d+/;\r\n    //         const match = ipRegex.exec(e.candidate.candidate);\r\n    //\r\n    //         if (match) {\r\n    //           const ipAddress = match[0];\r\n    //           resolve(ipAddress);\r\n    //           this.ip_address = ipAddress;\r\n    //         }\r\n    //       }\r\n    //\r\n    //       // Always clear the event handler and close the connection\r\n    //       pc.onicecandidate = null;\r\n    //       pc.close();\r\n    //     };\r\n    //   });\r\n    // },\r\n    async  fetchLocalIPAddress() {\r\n      try {\r\n        // Attempt to use WebRTC API\r\n        const ipAddress = await this.getIPAddressViaWebRTC();\r\n        if (ipAddress) {\r\n          return ipAddress;\r\n        }\r\n\r\n        // Fallback to other methods if WebRTC fails\r\n\r\n        // Check if there's a local IP address using a third-party service\r\n        const localIPAddress = await this.getIPAddressViaService();\r\n        if (localIPAddress) {\r\n          return localIPAddress;\r\n        }\r\n\r\n        // If all else fails, return null or handle the situation accordingly\r\n        return null;\r\n      } catch (error) {\r\n        console.error(\"Error fetching local IP address:\", error);\r\n        return null;\r\n      }\r\n    },\r\n\r\n    async  getIPAddressViaWebRTC() {\r\n      return new Promise((resolve) => {\r\n        window.RTCPeerConnection =\r\n            window.RTCPeerConnection ||\r\n            window.mozRTCPeerConnection ||\r\n            window.webkitRTCPeerConnection;\r\n\r\n        const pc = new RTCPeerConnection();\r\n\r\n        pc.createDataChannel(\"\");\r\n\r\n        pc.createOffer().then((offer) => {\r\n          pc.setLocalDescription(offer);\r\n        });\r\n\r\n        pc.onicecandidate = (e) => {\r\n          if (e && e.candidate && e.candidate.candidate) {\r\n            const ipRegex = /\\d+\\.\\d+\\.\\d+\\.\\d+/;\r\n            const match = ipRegex.exec(e.candidate.candidate);\r\n\r\n            if (match) {\r\n              const ipAddress = match[0];\r\n              resolve(ipAddress);\r\n            }\r\n          }\r\n\r\n          // Always clear the event handler and close the connection\r\n          pc.onicecandidate = null;\r\n          pc.close();\r\n        };\r\n      });\r\n    },\r\n\r\n    async  getIPAddressViaService() {\r\n      try {\r\n        // Use a third-party service to get the public IP address\r\n        const response = await fetch(\"https://api.ipify.org?format=json\");\r\n        const data = await response.json();\r\n\r\n        // Extract the IP address from the response\r\n        return data.ip;\r\n      } catch (error) {\r\n        console.error(\"Error fetching IP address via service:\", error);\r\n        return null;\r\n      }\r\n    },\r\n    selectAnswer(questionId, answerId) {\r\n      this.fetchLocalIPAddress().then((ipAddress) => {\r\n        this.ip_address=ipAddress\r\n      });\r\n      this.$http\r\n        .patch(`student-exam-answers/${this.exam_id}/for/${this.student_id}/`, {\r\n          question: questionId,\r\n          is_selected: answerId,\r\n          ip_address:this.ip_address\r\n        })\r\n        .then((res) => {\r\n        this.select = res\r\n          this.collectSelect()\r\n          console.log(this.questions)\r\n          console.log(res);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n        .finally(() => {});\r\n    },\r\ncollectSelect() {\r\n  this.select.forEach((pair) => {\r\n    const questionId = pair.question;\r\n    const answerId = pair.is_selected;\r\n    const selectedQuestion = this.questions.find((q) => q.id === questionId);\r\n    if (selectedQuestion) {\r\n      selectedQuestion.is_selected=true\r\n      selectedQuestion.answers.forEach((answer) => {\r\n        answer.is_selected = false;\r\n      });\r\n      const selectedAnswer = selectedQuestion.answers.find(\r\n          (a) => a.id === answerId\r\n      );\r\n      if (selectedAnswer) {\r\n        selectedAnswer.is_selected = true;\r\n      }\r\n    }\r\n  });\r\n},\r\n    finishTest() {\r\n      this.$http.get(`exam-finish/${this.exam_id}/finish/${this.student_id}/`).then(()=>{\r\n      }).catch((err)=>{\r\n        console.log(err)\r\n      })\r\n    },\r\n\r\n    closeModal() {\r\n      this.showModal = false;\r\n      document.body.style.overflowY = \"scroll\";\r\n    },\r\n    showModalClick() {\r\n      this.showModal = true;\r\n      document.body.style.overflowY = \"hidden\";\r\n    },\r\n    checkLogOut(){\r\n      this.$http.post(\"check-logout/\",{\r\n        exam:this.exam_id,\r\n        student:this.student_id\r\n      }).then(()=>{\r\n        this.$router.replace({\r\n          name: \"test-exams\"\r\n        });\r\n      }).catch(()=>{\r\n\r\n      })\r\n    },\r\n    handleBeforeUnload(event) {\r\n      event.preventDefault();\r\n\r\n      const data = {\r\n        exam: this.exam_id,\r\n        student: this.student_id\r\n      };\r\n\r\n      const blob = new Blob([JSON.stringify(data)], { type: 'application/json' });\r\n      navigator.sendBeacon(\"https://api.fastlms.uz/api/check-logout/\", blob);\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener('beforeunload', this.handleBeforeUnload);\r\n    this.checkLogOut()\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"user\"]),\r\n  },\r\n  async mounted() {\r\n    window.addEventListener('beforeunload', this.handleBeforeUnload);\r\n    this.fetchLocalIPAddress().then((ipAddress) => {\r\n      this.ip_address=ipAddress\r\n    });\r\n    await this.getUser();\r\n    await this.getExamDetail();\r\n    await this.resultCreate();\r\n    await this.getExamTest();\r\n    this.setTimer();\r\n    this.getDefault()\r\n  },\r\n  created() {\r\n    this.exam_id = this.$route.params.exam_id;\r\n    this.student_id = localStorage.getItem(\"student_id\");\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.buttons{\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: row-reverse;\r\n  justify-content: space-around;\r\n}\r\nsection {\r\n  height: calc(100vh - 150px);\r\n}\r\n.test {\r\n  display: grid;\r\n  grid-template-columns: 8fr 4fr;\r\n  gap: 40px;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  &_left {\r\n    overflow: auto;\r\n  }\r\n  &_right {\r\n  }\r\n  &_question {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 10px;\r\n    background-color: white;\r\n    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\r\n    margin-bottom: 20px;\r\n  }\r\n  &_question-title {\r\n    padding: 5px 15px;\r\n  }\r\n  &_answers {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 10px;\r\n    cursor: pointer;\r\n  }\r\n  &_answers-title {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    padding: 5px 15px;\r\n    transition: all 0.3s ease;\r\n    &:hover {\r\n      background-color: #008bf8;\r\n      color: #fff;\r\n    }\r\n    &.active {\r\n      background-color: #00b74a;\r\n      color: #fff;\r\n    }\r\n  }\r\n  &_title {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 8px 16px;\r\n    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\r\n  }\r\n  &_pagination {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 0.5rem;\r\n    padding: 1rem;\r\n    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\r\n  }\r\n  &_pagination-bottom {\r\n    background-color: #fff;\r\n    padding: 1rem;\r\n    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\r\n    border-top: 1px solid #e0e0e0;\r\n    button {\r\n      font-size: 1rem;\r\n      font-weight: 500;\r\n      padding: 0.375rem 1.5rem;\r\n      line-height: 1.5;\r\n      text-align: center;\r\n      background-color: #dc4c64;\r\n      color: #fff;\r\n      box-shadow: 0 8px 9px -4px rgba(0, 0, 0, 0.15),\r\n        0 4px 18px 0 rgba(0, 0, 0, 0.1);\r\n    }\r\n  }\r\n\r\n  &_pagination-top {\r\n    background-color: #fff;\r\n    padding: 1rem;\r\n    border-bottom: 1px solid #e0e0e0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n  &_pagination-item {\r\n    width: 30px;\r\n    height: 30px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border: 1px solid #00b74a;\r\n    color: #00b74a;\r\n    background-color: #fff;\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n    cursor: pointer;\r\n    &.active {\r\n      color: #fff;\r\n      background-color: #00b74a;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4ab40660&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4ab40660&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ab40660\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","class","className","style","_t","on","close","attrs","staticRenderFns","name","data","hidden","props","width","type","Number","String","computed","push","styles","methods","$emit","mounted","setTimeout","component","ref","_l","questions","question","q","key","refInFor","domProps","_s","answers","item","a","is_selected","$event","selectAnswer","id","isMobile","_v","answerLabels","staticStyle","timerFormat","testTimer","checkLogOut","index","scrollToQuestion","showModalClick","visible","showModal","closeModal","scopedSlots","_u","fn","proxy","finishTest","components","AppModal","select","exam_id","exam_detail","ip_address","student_id","activeP","mapActions","testElement","$refs","scrollIntoView","behavior","getExamTest","loading","$http","post","exam","student","then","response","forEach","element","model","map","answer","catch","err","notificationMessage","message","finally","resultCreate","result","group","user","attempts","total_count","max_score","end_time","is_start","exam_time","correct_answer","res","console","log","Math","abs","exam_time_second","errors","Object","hasOwnProperty","call","errorMessages","join","getDefault","get","collectSelect","getExamDetail","setTimer","_this","testTimerInterval","setInterval","clearInterval","time","sec_num","parseInt","hours","floor","minutes","seconds","fetchLocalIPAddress","ipAddress","getIPAddressViaWebRTC","localIPAddress","getIPAddressViaService","error","Promise","resolve","window","RTCPeerConnection","mozRTCPeerConnection","webkitRTCPeerConnection","pc","createDataChannel","createOffer","offer","setLocalDescription","onicecandidate","e","candidate","ipRegex","match","exec","fetch","json","ip","questionId","answerId","patch","pair","selectedQuestion","find","selectedAnswer","document","body","overflowY","$router","replace","handleBeforeUnload","event","preventDefault","blob","Blob","JSON","stringify","navigator","sendBeacon","beforeDestroy","removeEventListener","mapGetters","addEventListener","getUser","created","$route","params","localStorage","getItem"],"sourceRoot":""}